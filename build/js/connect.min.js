!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.connect=e():t.connect=e()}(this,function(){return function(t){function e(n){if(s[n])return s[n].exports;var r=s[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var s={};return e.m=t,e.c=s,e.i=function(t){return t},e.d=function(t,s,n){e.o(t,s)||Object.defineProperty(t,s,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,s){"use strict";function n(){this.connectDiv=document.getElementById("connect")}var r,i=s(1),o=s(2),l=parseInt(window.getComputedStyle(document.body,null).width),a=.3*l,d=.22*l;n.prototype.init=function(t,e,s){this.connectDiv.innerHTML="",r=[],this.userAnswerArr=t||[],this.type=s;for(var n=this,o=0;o<2;o++){for(var l=[],p=0,u=e.right.length>e.left.length?e.right.length:e.left.length;p<u;p++)if((0!==o||e.left[p])&&(1!==o||e.right[p])){var c=document.createElement("div");c.setAttribute("class","connectList"),c.state=0,c.index=p,c.lineId=null,c.lineNum=null,c.style.width=a+"px",c.style.height=d+"px",c.style.top=p*(d+30)+"px",this.connectDiv.appendChild(c),0===o?i(c,e.left[p].c):i(c,e.right[p].c),0===o?(c.style.left="3%",c.list="left",c.position={X:c.offsetLeft+a+6,Y:c.offsetTop+d/2}):(c.style.right="3%",c.list="right",c.position={X:c.offsetLeft-3,Y:c.offsetTop+d/2}),this.type||(c.ontouchend=function(){var t;if(0===this.state)if("left"===this.list){var e=document.getElementsByClassName("ac")[0];e&&e.classList.remove("ac"),this.classList.add("ac")}else(t=document.getElementsByClassName("ac")[0])&&(t.classList.remove("ac"),null!==t.lineId&&n._rmUserAnswer(t.lineId),n.userAnswerArr.push({id:t.index,result:this.index}),n._draw(r[0][t.index],r[1][this.index]));else if("left"===this.list)t=document.getElementsByClassName("ac")[0],t&&t.classList.remove("ac"),this.classList.add("ac");else if(t=document.getElementsByClassName("ac")[0]){if(t.classList.remove("ac"),null!=document.getElementById("line"+t.index+"_"+this.index))return;null!==t.lineId&&t.lineId!==this.lineId&&n._rmUserAnswer(t.lineId),n._rmUserAnswer(this.lineId),n.userAnswerArr.push({id:t.index,result:this.index}),n._draw(r[0][t.index],r[1][this.index])}}),l.push(c)}r.push(l)}return this._anewDraw(),this.type&&this._judgeAnswer(),this},n.prototype._rmUserAnswer=function(t){for(var e=t[0],s=t[1],n=0,i=this.userAnswerArr.length;n<i;n++)if(this.userAnswerArr[n].id==e&&this.userAnswerArr[n].result==s)return r[0][e].lineId=null,r[1][s].lineId=null,r[0][e].state=0,r[1][s].state=0,r[0][e].classList.remove("acBorder"),r[1][s].classList.remove("acBorder"),this.userAnswerArr.splice(n,1),void o(document.getElementById("line"+e+"_"+s))},n.prototype._anewDraw=function(){for(var t=this.userAnswerArr,e=0,s=t.length;e<s;e++)this._draw(r[0][t[e].id],r[1][t[e].result])},n.prototype._draw=function(t,e){this.type||(t.classList.add("acBorder"),e.classList.add("acBorder"));var s=[t.index,e.index];t.lineId=e.lineId=s,t.state=e.state=2,t.id="div"+s[0]+"_"+s[1],e.id="div"+s[0]+"right"+s[1];var n=t.position,r=e.position,i=document.createElement("div");i.setAttribute("class","line"),i.id="line"+t.index.toString()+"_"+e.index.toString();var o=r.X-n.X,l=r.Y-n.Y,a=180*Math.atan2(l,o)/Math.PI;i.style.width=Math.sqrt(Math.pow(Math.abs(o),2)+Math.pow(Math.abs(l),2))+"px",i.style.top=n.Y+"px",i.style.left=n.X+"px",i.style.webkitTransformOrigin="0 50%",i.style.mozTransformOrigin="0 50%",i.style.msTransformOrigin="0 50%",i.style.oTransformOrigin="0 50%",i.style.transformOrigin="0 50%",i.style.webkitTransform="rotate("+a+"deg)",i.style.mozTransform="rotate("+a+"deg)",i.style.msTransform="rotate("+a+"deg)",i.style.oTransform="rotate("+a+"deg)",i.style.transform="rotate("+a+"deg)",this.connectDiv.appendChild(i)},n.prototype.getUserAnswer=function(){return this.userAnswerArr},n.prototype._judgeAnswer=function(){for(var t=0,e=this.userAnswerArr.length;t<e;t++)3==this.userAnswerArr[t].correct?(document.getElementById("div"+this.userAnswerArr[t].id+"_"+this.userAnswerArr[t].result).classList.add("answerRight"),document.getElementById("div"+this.userAnswerArr[t].id+"right"+this.userAnswerArr[t].result).classList.add("answerRight"),document.getElementById("line"+this.userAnswerArr[t].id+"_"+this.userAnswerArr[t].result).classList.add("answerRight")):(document.getElementById("div"+this.userAnswerArr[t].id+"_"+this.userAnswerArr[t].result).classList.add("answerError"),document.getElementById("div"+this.userAnswerArr[t].id+"right"+this.userAnswerArr[t].result).classList.add("answerError"),document.getElementById("line"+this.userAnswerArr[t].id+"_"+this.userAnswerArr[t].result).classList.add("answerError"))},t.exports=new n},function(t,e,s){"use strict";function n(t,e){var s=document.createElement("div");s.classList.add("connectContentBox"),s.innerHTML=e;var n=s.getElementsByTagName("img")[0];if(void 0!==n)s.appendChild(n),n.onload=function(){s.style.backgroundImage="url('')";var e=parseInt(window.getComputedStyle(n,null).height),r=parseInt(window.getComputedStyle(n,null).width);parseInt(t.style.width)/parseInt(t.style.height)<r/e?function(){n.style.height="auto",n.style.width=t.style.width,n.style.position="absolute",n.style.left=0,n.style.top=(parseInt(t.style.height)-parseInt(window.getComputedStyle(n,null).height))/2+"px"}():function(){n.style.height=t.style.height,n.style.width="auto",n.style.position="absolute",n.style.top=0,n.style.left=(parseInt(t.style.width)-parseInt(window.getComputedStyle(n,null).width))/2+"px"}(),n=null},n.onerror=function(){s.innerHTML=""},t.appendChild(s);else{var r=document.createElement("div");r.style.position="absolute",r.innerHTML=e,r.style.maxWidth="90%",r.style.maxHeight="90%",t.appendChild(r);var i=parseInt(window.getComputedStyle(r,null).width),o=parseInt(t.style.width);o>i&&(r.style.left=(o-i)/2+"px");var l=parseInt(window.getComputedStyle(r,null).height),a=parseInt(t.style.height);a>l&&(r.style.top=(a-l)/2+"px")}}t.exports=n},function(t,e,s){"use strict";function n(t){var e=t.parentNode;e&&e.removeChild(t)}t.exports=n},function(t,e,s){"use strict";var n=s(0);window.showQuestion=function(t,e,s){t=JSON.parse(JSON.stringify(t)),e=JSON.parse(JSON.stringify(e)),n.init(t,e,!1),s=JSON.parse(JSON.stringify(s)),document.getElementById("header").innerHTML=s.c},window.getUserAnswer=function(){BHWEB.popUserAnswer(JSON.stringify(n.getUserAnswer()))},window.getAllAnswers=function(){return JSON.stringify(n.getUserAnswer())},window.showResult=function(t,e,s){t=JSON.parse(JSON.stringify(t)),e=JSON.parse(JSON.stringify(e)),n.init(t,e,!0),s=JSON.parse(JSON.stringify(s)),document.getElementById("header").innerHTML=s.c};var r=[{id:"0",correct:"1",result:"0"},{id:"2",correct:"3",result:"1"},{id:"1",correct:"1",result:"2"}],i={left:[{c:'<p><img src="/uploads/question/20161213/148160748939758.png" title="148160748939758.png" alt="blob.png"/></p>',aw:"2"},{c:'<p><img src="/uploads/question/20161213/1481607498712529.png" title="1481607498712529.png" alt="blob.png"/></p>',aw:"1"},{c:'<p><img src="/uploads/question/20161213/1481607520944475.png" title="1481607520944475.png" alt="blob.png"/></p>',aw:"0"},{c:'<p><img src="/uploads/question/20161213/1481607550202362.png" title="1481607550202362.png" alt="blob.png"/></p>',aw:"4"},{c:'<p><img src="/uploads/question/20161213/1481607568865044.png" title="1481607568865044.png" alt="blob.png"/></p>',aw:"3"}],right:[{c:'<p><img src="/uploads/question/20161213/1481607505135751.png" title="1481607505135751.png" alt="blob.png"/></p>'},{c:'<p><img src="/uploads/question/20161213/1481607512283292.png" title="1481607512283292.png" alt="blob.png"/></p>'},{c:'<p><img src="/uploads/question/20161213/1481607535801448.png" title="1481607535801448.png" alt="blob.png"/></p>'},{c:'<p><img src="https://w.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png" title="1481607557620469.png" alt="blob.png"/></p>'},{c:'<p><img src="http://192.168.1on/20161213/148160757812379.png" title="148160757812379.png" alt="blob.png"/>&nbsp;&nbsp;&nbsp;&nbsp;<br/></p>'}]};showQuestion(r,i)}])});